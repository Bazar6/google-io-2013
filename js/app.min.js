var g=!0,h=null,k=!1;function m(){return function(){}}var n;function p(a){var b=q;function c(){}c.prototype=b.prototype;a.c=b.prototype;a.prototype=new c};var r=-1<window.location.href.indexOf("test");function aa(){var a,b,c,d=[];do a=2*Math.random()-1,b=2*Math.random()-1,c=a*a+b*b;while(1<=c);c=Math.sqrt(-1*Math.log(c)/c);d[0]=a*c;d[1]=b*c;return d}function ba(){return window.performance&&window.performance.now?window.performance.now():+new Date}function ca(a,b){for(var c=""+a;c.length<b;)c="0"+c;return c}function da(a,b,c){"undefined"!==typeof ga&&ga("send","event",a,b,h,c)}
function ea(a){function b(){l=ba();e=h;f=a.apply(c,d)}var c,d,e,f,l=0;return function(){var j=ba(),y=50-(j-l);c=this;d=arguments;0>=y?(clearTimeout(e),e=h,l=j,f=a.apply(c,d)):e||(e=setTimeout(b,y));return f}}function fa(){return"undefined"!==typeof AudioContext?AudioContext:"undefined"!==typeof webkitAudioContext?webkitAudioContext:h}
function s(a,b){var c=[],d,e;"up"===a?(d="touchend",e="mouseup"):"move"===a?(d="touchmove",e="mousemove"):"down"===a&&(d="touchstart",e="mousedown");var f=navigator.userAgent.match(/(Windows)/i)?g:k,l=navigator.userAgent.match(/(Touch)/i)?g:k;f?((Modernizr.touch||l)&&c.push(d+"."+b),c.push(e+"."+b)):Modernizr.touch?c.push(d+"."+b):c.push(e+"."+b);return c.join(" ")}
for(var ha=0,ja=["ms","moz","webkit","o"],t=0;t<ja.length&&!window.requestAnimationFrame;++t)window.requestAnimationFrame=window[ja[t]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[ja[t]+"CancelAnimationFrame"]||window[ja[t]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(a){var b=(new Date).getTime(),c=Math.max(0,16-(b-ha)),d=window.setTimeout(function(){a(b+c)},c);ha=b+c;return d});
window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)});var u={},ka=k,la=0,ma=h;function na(a){a=a||ba();var b=a-la,c;for(c in u)if(u.hasOwnProperty(c)){var d=u[c];d[1].call(d[0],b)}la=a;ka&&(ma=requestAnimationFrame(na))}function oa(){var a=0,b;for(b in u)u.hasOwnProperty(b)&&a++;0<a?ka||(ka=g,la=ba(),requestAnimationFrame(na)):(ka=k,ma&&(cancelAnimationFrame(ma),ma=h))};function q(a,b,c,d,e,f,l){this.ca=Modernizr.prefixed("transform");this.Vb=b||"";this.I=a;this.j=c;this.hasFocus=k;a=fa();if(this.H=d&&a||k)this.la=pa=pa||new a;this.uc=e||k;this.vc=f||k;this.Sb=this.Tc=l&&1<window.devicePixelRatio||k;this.ad=this.uc||this.vc||k;this.Sd=[];this.sa=$(window);this.e=this.d=0;var j=this;setTimeout(function(){function a(){j.log("Preload complete");j.cd=j.find(".bounds");j.o=j.find(".letter-i");j.X=j.find(".letter-o");j.n();j.F(g);var b=v[j.j];b.pattern&&(j.ab=$('<div class="back"></div>'),
j.ab.prependTo(j.I),b=ca(b.pattern.toString(2),b.nb).replace(/1/g,'<span class="i"></span>').replace(/0/g,'<span class="o"></span>'),$('<div class="code">'+b+"</div>").prependTo(j.I));qa(j);if(window.onModeReady)window.onModeReady(j);j.log("Is ready");ra(j.j+".ready")}j.log("Starting preload");if(j.H){var b=0,c;for(c in j.Na)j.Na.hasOwnProperty(c)&&b++;if(0>=b)a();else for(c in j.Na)j.Na.hasOwnProperty(c)&&function(c){function d(){b--;delete j.Na[e];0===b&&a()}var e=j.Vb+"sounds/"+j.j+"/"+c;j.log('Requested sound "'+
e+'"');j.pa=j.pa||{};d=d||m();if(j.pa[e])d(j.pa[e]);else{var f=new XMLHttpRequest;f.open("GET",e,g);f.responseType="arraybuffer";f.onload=function(){j.la.decodeAudioData(f.response,function(a){j.pa[e]=a;d(j.pa[e])})};f.send()}}(c)}else a()},10)}var pa;n=q.prototype;n.find=function(a){return $(this.I).find(a)};n.log=m();n.n=function(){this.log("Init");this.ld=g;this.vc&&(this.ya&&this.ya.destroy&&this.ya.destroy(),this.ya=h);this.k&&(paper=this.rb)};
function w(a,b,c,d){b=$(b);a=s(c,a.j);b.bind(a,d)}function x(a,b,c){b=$(b);a=s(c,a.j);b.unbind(a)}function sa(a,b,c){a.U||(a.U=$(a.I).find(".reload"),a.U.length||(a.U=$("<div class='reload'></div>").appendTo(a.I)));a.U.hide();var d=s("up","reload");a.U.bind(d,function(){c?a.U.fadeOut():a.U.hide();"function"===typeof b&&b()});c?a.U.fadeIn():a.U.show()}
n.F=function(a){this.d=$(this.I).width();this.e=$(this.I).height();this.Tc&&(this.Sb=!($.browser.safari&&1024<this.d));var b=1;this.Sb&&(1024===this.d&&(this.d-=2,this.e-=2),b=2);this.log("Resize "+this.d+"x"+this.e);this.d>this.e?(this.Ab=Math.min(375,this.e-60-20),this.u=this.Ab*(4/3)):(this.u=Math.min(500,this.d-60),this.Ab=0.75*this.u);this.dd=Math.floor(this.d/2);this.ed=Math.floor(this.e/2);this.Pa=this.dd-Math.floor(this.u/2);this.Qa=this.ed-Math.floor(this.Ab/2);this.cd.css({left:this.Pa,
top:this.Qa,width:this.u,height:this.Ab});this.k&&(paper=this.rb,this.k.width=this.d*b,this.k.height=this.e*b,paper.view.setViewSize(this.d*b,this.e*b),$(this.k).css({width:this.d,height:this.e}));a&&z(this)};n.vd=function(a){this.Za+=a;a*=0.0010;0.5<a&&(a=0.016);this.vc&&this.qa(a);TWEEN.update(this.Za);this.uc&&this.M(a);this.cc++};function z(a){a.uc&&a.M(0)}n.M=function(){if(this.k){var a=1;this.Sb&&(a=2);paper=this.rb;var b=this.k.getContext("2d");b.save();b.scale(a,a);paper.view.draw();b.restore()}};
n.postMessage=function(a){this.log("Got message: "+a.name,a);"focus"===a.name?qa(this):"unfocus"===a.name&&this.hasFocus&&(this.log("Lost focus"),this.hasFocus=k,this.ad&&(delete u[this.j],oa()),this.z())};function ra(a,b){window.app&&window.app.postMessage&&window.app.postMessage({name:a,data:b})}n.ra=function(a,b){da("mode-"+this.Hd,a,b)};function qa(a){a.hasFocus||(a.k&&(paper=a.rb),a.ld&&a.n(),a.wc(),a.log("Got focus"),a.hasFocus=g,a.ad&&(a.cc=0,a.Za=0,u[a.j]=[a,a.vd],oa()),a.w())}n.wc=m();
n.w=function(){var a=this,b=s("up",this.j);this.o.bind(b,function(){a.p()});this.X.bind(b,function(){a.m()});this.ab&&this.ab.bind(b,function(){ra("goToHome")});$(document).bind("keyup."+this.j,function(b){if(105===b.keyCode||49===b.keyCode||73===b.keyCode)a.p();else if(111===b.keyCode||48===b.keyCode||79===b.keyCode)a.m();else if(27===b.keyCode)ra("goToHome");else return;b.preventDefault();b.stopPropagation();return k})};
n.z=function(){var a=s("up",this.j);this.o.unbind(a);this.X.unbind(a);this.ab&&this.ab.unbind(a);this.U&&(this.U.hide(),this.U.unbind(s("up","reload")));$(document).unbind("keyup."+this.j)};function ta(a,b){a.pa=a.pa||{};if(a.pa[b])return a.pa[b]}function ua(a){if(a.ya)return a.ya;a.ya=new Physics(void 0);return a.ya}
n.qa=function(a){if(0<a){var b=this.ya;b.integrate(a);if(this.k)for(a=0;a<b.particles.length;a++){var c=b.particles[a];"undefined"!==typeof c.drawObj&&c.drawObj.position&&(c.drawObj.position.x=c.pos.x,c.drawObj.position.y=c.pos.y)}}};function A(a,b){a.Na=a.Na||{};a.Na[b]=g}
n.l=function(a,b,c){if(this.H){var d=this.Vb+"sounds/"+this.j+"/"+a;this.log('Playing sound "'+a+'"');a=this.la;var d=ta(this,d),e=a.createBufferSource(),f=a.createGainNode();f.gain.value=0.1;e.buffer=d;e.loop=c||k;e.connect(f);f.connect(a.destination);e.noteOn(0);"function"===typeof b&&b(e)}};n.p=function(){this.log('Activated "I"');this.ra("activated-i")};n.m=function(){this.log('Activated "O"');this.ra("activated-o")};
function B(a,b){if(!a.k){a.k=document.createElement("canvas");var c=1;a.Sb&&(c=2);a.k.width=a.d*c;a.k.height=a.e*c;b||($(a.k).css({width:a.d,height:a.e}),$(a.I).prepend(a.k));paper=new paper.PaperScope;paper.setup(a.k);a.rb=paper}}function C(a,b){b.start(a.Za)}function D(a){var b=[{x:0,y:0}];a.originalEvent.changedTouches?(b.x=a.originalEvent.changedTouches[0].pageX,b.y=a.originalEvent.changedTouches[0].pageY):(b.x=a.pageX,b.y=a.pageY);return b}
function va(a){a.q=0.2*a.u;a.J=0.43058824*a.u;a.fa=a.Pa+0.10352941*a.u;a.ga=a.Qa+0.16*a.u;a.W=new paper.Point(a.fa+a.q/2,a.ga+a.J/2);a.g=0.22588235*a.u;a.Xa=a.Pa+0.69647059*a.u;a.xa=a.Qa+0.37411765*a.u;a.A=new paper.Point(a.Xa,a.xa);a.Xc=a.Pa+0.50352941*a.u;a.Yc=a.Qa+0.06823529*a.u;a.Vc=a.Pa+0.32*a.u;a.Wc=a.Qa+0.68705882*a.u;a.Zc=0.02212389*a.u;a.find(".year-mark")&&a.find(".year-mark").css({left:a.Pa+0.85411765*a.u,top:a.Qa+0.08705882*a.u})};function E(a,b){A(this,"i.mp3");A(this,"o.mp3");A(this,"error.mp3");q.call(this,a,b,"eightbit",g,g,g,k);this.Eb=this.Hc=1<window.devicePixelRatio;this.i=document.getElementById("eightbit-canvas")}p(E);n=E.prototype;n.p=function(){E.c.p.call(this);this.za(this.b,this.t,10);this.l("i.mp3")};n.m=function(){E.c.m.call(this);this.za(this.a,this.t,10);this.l("o.mp3")};
n.Y=function(){this.b&&this.b.remove();var a=new paper.Point(this.fa,this.ga),b=new paper.Size(this.q,this.J),a=new paper.Rectangle(a,b);this.b=new paper.Path.Rectangle(a);this.b.closed=g;this.b.vectors=[];for(a=0;a<this.b.segments.length;a++)b=this.b.segments[a].point.clone(),b=b.subtract(this.W),b.velocity=0,b.acceleration=5*Math.random()+10,b.bounce=0.1*Math.random()+1.05,this.b.vectors.push(b)};
n.jb=function(){var a=new paper.Gradient([["#4487fc",0],["#826eb1",1]]),b=this.b.position.clone();b.x-=this.q/2;var c=this.b.position.clone();c.x+=this.q/2;a=new paper.GradientColor(a,b,c);this.b.fillColor=a};
n.Z=function(){this.a&&this.a.remove();this.a=new paper.Path.RegularPolygon(this.A,6,this.g);this.a.smooth();this.a.vectors=[];for(var a=0;a<this.a.segments.length;a++){var b=this.a.segments[a].point.clone(),b=b.subtract(this.A);b.velocity=0;b.acceleration=5*Math.random()+10;b.bounce=0.1*Math.random()+1.05;this.a.vectors.push(b)}};
n.kb=function(){var a=new paper.Gradient([["#93689c",0],["#df4a40",1]]),b=this.a.position.clone();b.x-=this.g;var c=this.a.position.clone();c.x+=this.g;a=new paper.GradientColor(a,b,c);this.a.fillColor=a};n.n=function(){E.c.n.call(this);this.h=ua(this);B(this,g);this.t=new paper.Point(this.Xa,this.xa);0<this.k.height&&(this.Y(),this.Z())};
n.w=function(){E.c.w.call(this);this.v=$(this.i);var a=this,b=s("down",this.j);this.v.bind(b,function(b){b.preventDefault();b.stopPropagation();a.t=new paper.Point(D(b).x,D(b).y);a.t.getDistance(a.a.position)<a.g&&a.hasFocus&&a.m();Math.abs(a.t.x-a.b.position.x)<a.q/2&&Math.abs(a.t.y-a.b.position.y)<a.J/2&&a.hasFocus&&a.p()});b=s("move",this.j);this.v.bind(b,function(b){b.preventDefault();b.stopPropagation();b=new paper.Point(D(b).x,D(b).y);b.getDistance(a.a.position)<a.g||Math.abs(b.x-a.b.position.x)<
a.q/2&&Math.abs(b.y-a.b.position.y)<a.J/2?a.hasFocus&&(a.i.style.cursor="pointer"):a.i.style.cursor="default"})};n.z=function(){E.c.z.call(this);x(this,$(this.k),"down");x(this,$(this.k),"move")};n.F=function(a){E.c.F.call(this,k);this.Hc&&(this.Eb=!($.browser.safari&&1024<this.d));va(this);this.Y();this.Z();6*this.e<this.d&&this.l("error.mp3");var b=1;this.Eb&&(b=2);this.i.width=this.d*b;this.i.height=this.e*b;$(this.i).css({width:this.d,height:this.e});a&&z(this)};
n.za=function(a,b,c){for(var d=0;d<a.vectors.length;d++){var e=a.vectors[d],f;a===this.a?(f=e.add(this.A),f=f.subtract(b),f=Math.max(0,this.g-f.length)):(f=e.add(this.W),f=f.subtract(b),f=Math.max(0,this.q-f.length));e.length+=Math.max(4*f,100);e.velocity+=c;e.velocity=Math.min(5,e.velocity)}};
n.Da=function(a){for(var b=0;b<a.segments.length;b++){var c=a.vectors[b],d=new paper.Point(this.fa,this.ga);c.velocity=a===this.a?((this.g-c.length)/c.acceleration+c.velocity)/c.bounce:((d.getDistance(this.W)-c.length)/c.acceleration+c.velocity)/c.bounce;c.length=Math.max(0,c.length+c.velocity)}};n.Ca=function(a){for(var b=0;b<a.segments.length;b++){var c=a.vectors[b].clone();a===this.a?(this.a.segments[b].point=c.add(this.A),this.a.smooth()):this.b.segments[b].point=c.add(this.W)}};
n.qa=function(a){E.c.qa.call(this,a);this.b&&this.a&&(this.jb(),this.kb(),this.Da(this.b),this.Ca(this.b),this.Da(this.a),this.Ca(this.a),this.Eb?(this.b.scale(0.65),this.a.scale(0.65)):(this.b.scale(0.55),this.a.scale(0.55)))};
n.M=function(a){E.c.M.call(this,a);var b=this.k,c=this.i;if(b.width&&!(1>b.width)&&b.height&&!(1>b.height)){var d=b.getContext("2d");a=c.getContext("2d");b=d.getImageData(0,0,b.width,b.height);a.clearRect(0,0,c.width+1,c.height+1);c=~~(0.0625*this.d);6*this.e<this.d&&(c/=8);d=Math.min(Math.round(80*c)/4,980);paper=this.rb;var e=1;this.Eb&&(e=2);a.save();a.scale(e,e);for(i=0;i<b.data.length;i+=d)if(0!==b.data[i+3]){var f=Math.ceil(i/4),e=f%this.d,f=Math.floor(f/this.d);a.fillStyle="rgba("+b.data[i]+
", "+b.data[i+1]+", "+b.data[i+2]+", 1)";a.fillRect(e-~~(c/2),f-~~(c/2),c,c)}a.restore()}};function F(a,b){A(this,"cat-1.mp3");A(this,"cat-2.mp3");q.call(this,a,b,"cat",g,g)}p(F);
F.prototype.p=function(){F.c.p.call(this);this.l("cat-1.mp3");var a=this,b=new TWEEN.Tween({scaleY:1});b.to({scaleY:1.55},200);b.easing(TWEEN.Easing.Bounce.InOut);b.onUpdate(function(){a.o[0].style[a.ca]="scaleY("+this.scaleY+")"});var c=new TWEEN.Tween({scaleY:1.55});c.to({scaleY:1},200);c.easing(TWEEN.Easing.Bounce.InOut);c.delay(200);c.onUpdate(function(){a.o[0].style[a.ca]="scaleY("+this.scaleY+")"});C(this,b);C(this,c)};
F.prototype.m=function(){F.c.m.call(this);this.l("cat-2.mp3");var a=this,b=[~~Random(-50,50),~~Random(-50,50)],c=new TWEEN.Tween({scale:1,x:0,y:0});c.to({scale:1.5,x:b[0],y:b[1]},200);c.easing(TWEEN.Easing.Bounce.InOut);c.onUpdate(function(){var b="translate("+this.x+"px, "+this.y+"px) ",b=b+("scale("+this.scale+")");a.X[0].style[a.ca]=b});b=new TWEEN.Tween({scale:1.5,x:b[0],y:b[1]});b.to({scale:1,x:0,y:0},200);b.delay(200);b.easing(TWEEN.Easing.Bounce.InOut);b.onUpdate(function(){var b="translate("+
this.x+"px, "+this.y+"px) ",b=b+("scale("+this.scale+")");a.X[0].style[a.ca]=b});C(this,c);C(this,b)};function G(a,b){A(this,"bacon-sizzle.mp3");A(this,"egg-cracked.mp3");A(this,"cracked-open.mp3");A(this,"eggs-sizzling.mp3");q.call(this,a,b,"bacon",g,g,k)}p(G);G.prototype.n=function(){G.c.n.call(this);this.$c=g;this.fd=$("#egg-whole").css("opacity",1)[0];this.Ec=$("[id*=crack-]").css("opacity",0);this.Yb=0;this.Cd=this.Ec.length;this.Gd=$("#egg-whites");this.Ra=$("#egg-cracked").css("opacity",0);this.Cc=this.Ra.attr("cx")+", "+this.Ra.attr("cy")};
G.prototype.p=function(){G.c.p.call(this);var a=this;this.l("bacon-sizzle.mp3");var b=new TWEEN.Tween({scaleY:1,translateY:0});b.to({scaleY:1.25,translateY:-20},700);b.easing(TWEEN.Easing.Elastic.In);b.onUpdate(function(){a.o.attr("transform","scale(1, "+this.scaleY+") translate(0, "+this.translateY+")")});var c=new TWEEN.Tween({scaleY:1.25,translateY:-20});c.to({scaleY:1,translateY:0},700);c.easing(TWEEN.Easing.Elastic.Out);c.delay(700);c.onUpdate(function(){a.o.attr("transform","scale(1, "+this.scaleY+
") translate(0, "+this.translateY+")")});C(this,b);C(this,c)};G.prototype.m=function(){G.c.m.call(this);if(this.Yb<this.Cd)this.Ec[this.Yb].style.opacity=1,this.Yb++,this.l("egg-cracked.mp3");else if(this.$c){this.l("cracked-open.mp3");var a=this,b=new TWEEN.Tween({opacity:1});b.to({opacity:0},200);b.onUpdate(function(){a.fd.style.opacity=this.opacity});b.onComplete(function(){a.Ra.css("opacity",1);a.$c=k;wa(a)});this.Ra.css("opacity",0);C(this,b)}else this.l("eggs-sizzling.mp3"),wa(this)};
function wa(a){var b=-1*~~(250*Math.random()+20),c=a.Ra.attr("transform")||"",c=parseInt(c.split("rotate(")[1],10)||0,d=~~Random(-20,20),e=new TWEEN.Tween({rotate:c});e.to({rotate:(c+b/2)/window.devicePixelRatio},500);e.easing(TWEEN.Easing.Elastic.In);e.onUpdate(function(){a.Gd.attr("transform","rotate("+(this.rotate-d)+", "+a.Cc+")");a.Ra.attr("transform","rotate("+this.rotate+", "+a.Cc+")")});C(a,e)};function H(a,b){A(this,"brass-note-1.mp3");A(this,"brass-note-2.mp3");A(this,"brass-note-3.mp3");A(this,"brass-note-4.mp3");A(this,"lute-note-1.mp3");A(this,"lute-note-2.mp3");A(this,"lute-note-3.mp3");A(this,"lute-note-4.mp3");A(this,"funky-note-1.mp3");A(this,"funky-note-2.mp3");A(this,"funky-note-3.mp3");A(this,"funky-note-4.mp3");A(this,"beats-piano.mp3");A(this,"beats-club.mp3");A(this,"beats-effected-kit.mp3");A(this,"beats-electric-1.mp3");A(this,"beats-electric-2.mp3");A(this,"beats-hip-hop.mp3");
A(this,"beats-jazzy-rock.mp3");A(this,"beats-jazzy.mp3");A(this,"beats-lounge.mp3");A(this,"beats-motown.mp3");q.call(this,a,b,"song",g,g)}p(H);
H.prototype.n=function(){H.c.n.call(this);this.B=s("down","song");this.s=s("up","song");this.Kc=$(".instrument");this.sb={};this.sb["note-1"]=[document.getElementById("rectangle1"),document.getElementById("rectangle2"),document.getElementById("rectangle3")];this.sb["note-2"]=[document.getElementById("circle-yellow1"),document.getElementById("circle-yellow2"),document.getElementById("circle-yellow3")];this.sb["note-3"]=[document.getElementById("circle-blue1"),document.getElementById("circle-blue2"),
document.getElementById("circle-blue3")];this.sb["note-4"]=[document.getElementById("polygon1"),document.getElementById("polygon2"),document.getElementById("polygon3")];this.Ya=$(".song-style");$(this.Ya.get(0)).addClass("active");this.wb=this.Ya.get(0).id;this.Gc="beats-piano.mp3 beats-club.mp3 beats-effected-kit.mp3 beats-electric-1.mp3 beats-electric-2.mp3 beats-hip-hop.mp3 beats-jazzy-rock.mp3 beats-jazzy.mp3 beats-lounge.mp3 beats-motown.mp3".split(" ");this.td=this.Gc.length;this.Zb=$("#drum-number");
this.va=-1;this.oa=$("#drumkit");this.ta=h};
H.prototype.w=function(){H.c.w.call(this);var a=this;a.Kc.bind(a.B,function(){var b=this.id;a.log("now playing sound for note id: "+a.wb+"-"+b);a.ra("play-sound",a.wb+"-"+b);a.l(a.wb+"-"+b+".mp3",function(b){a.source=b});for(var b=a.sb[b],c,d=0,e=~~a.source.buffer.duration,f=0,l=b.length;f<l;f++)c=b[f],function(b,c){var d=400*e,f=300*e,l=new TWEEN.Tween({scale:1,opacity:1});l.to({scale:1.75,opacity:0.05},d);l.delay(c);l.onUpdate(function(){b.style[a.ca]="scale("+this.scale+")";b.style.opacity=this.opacity});
var ia=new TWEEN.Tween({scale:1.75,opacity:0.05});ia.to({scale:1,opacity:1},f);ia.delay(c+d);ia.onUpdate(function(){b.style[a.ca]="scale("+this.scale+")";b.style.opacity=this.opacity});C(a,l);C(a,ia)}(c,d),d+=200*e});a.Ya.bind(a.s,function(){var b=this.id;a.log("swapping instrument to: "+b);a.ra("changed-instrument",b);a.Ya.removeClass("active");$("#"+b).addClass("active");a.wb=b});a.oa.bind(a.B,function(){a.va++;0===a.va&&a.oa.addClass("active");a.va<a.td?(a.oa.addClass("tabbing"),a.Zb.text(a.va+
1)):(a.oa.removeClass("active"),a.Zb.text(""),a.va=-1,a.ta.disconnect(0),a.ta=h)});a.oa.bind(a.s,function(){0<=a.va&&(a.ta&&a.ta.disconnect(0),a.l(a.Gc[a.va],function(b){a.ta=b},g),a.oa.removeClass("tabbing"))})};
H.prototype.z=function(){H.c.z.call(this);this.Kc.unbind(this.B);this.Ya.unbind(this.s);this.oa.unbind(this.B);this.oa.unbind(this.s);this.Ya.removeClass("active");this.ta&&this.ta.disconnect(0);this.source&&this.source.disconnect(0);this.ta=h;this.Zb.text("");this.va=-1;this.oa.removeClass("active");TWEEN.removeAll();for(var a=$(".shape"),b=0,c=a.length;b<c;b++){var d=a[b];d.style[this.ca]="scale(1)";d.style.opacity=1}};function I(a,b){A(this,"bite-1.mp3");A(this,"bite-2.mp3");q.call(this,a,b,"burger",g,g,k)}p(I);I.prototype.n=function(){I.c.n.call(this);this.yb=$("[id*=hot-dog-bite-]");this.Mc=this.yb.length;this.zb=$("[id*=burger-bite-]");this.Nc=this.zb.length};I.prototype.w=function(){I.c.w.call(this);this.yb.css("opacity",0);this.bb=0;this.zb.css("opacity",0);this.cb=0;this.Ua=g};
I.prototype.p=function(){I.c.p.call(this);this.bb<this.Mc&&(this.yb[this.bb].style.opacity=1,this.bb++,this.l("bite-2.mp3"));if(this.Ua&&this.bb===this.Mc){var a=this,b=new TWEEN.Tween({opacity:0});b.to({opacity:1},200);b.delay(500);b.onStart(function(){a.yb.css("opacity",0)});b.onUpdate(function(){a.o.css("opacity",this.opacity)});b.onComplete(function(){a.Ua=g;a.bb=0});this.Ua=k;C(this,b)}};
I.prototype.m=function(){I.c.m.call(this);this.cb<this.Nc&&(this.zb[this.cb].style.opacity=1,this.cb++,this.l("bite-1.mp3"));if(this.Ua&&this.cb===this.Nc){var a=this,b=new TWEEN.Tween({opacity:0});b.to({opacity:1},200);b.delay(500);b.onStart(function(){a.zb.css("opacity",0)});b.onUpdate(function(){a.X.css("opacity",this.opacity)});b.onComplete(function(){a.Ua=g;a.cb=0});this.Ua=k;C(this,b)}};function xa(a){this.da="";this.Oc=15;var b={},c,d;for(c in a)a.hasOwnProperty(c)&&a[c].pattern&&(d=a[c],b[c]={Va:d.Va,Wb:ca(d.pattern.toString(2),d.nb)});this.hc=[];for(c in b)if(b.hasOwnProperty(c)){d=b[c];for(a=0;a<d.Wb.length;a++)this.hc.push({key:c,Lb:RegExp("^"+d.Wb.slice(0,a+1)),Jb:a+1!=d.Wb.length})}}xa.prototype.reset=function(){this.da=""};function J(a,b){A(this,"i.mp3");A(this,"o.mp3");q.call(this,a,b,"home",g,g,k,g);this.Ob=new xa(v);this.bd=0;this.Ib=g;this.rd=12E3}p(J);function ya(a){a.Ib=g;a.xc.fadeIn(300);a.T.fadeOut(300)}
function za(a,b){a.T.hasClass("success")&&(a.T.removeClass("success"),a.Ob.reset());a.T.hasClass("failure")&&(a.T.removeClass("failure"),a.Ob.reset());var c=a.Ob;c.da+=b;c.da.length>c.Oc&&(c.da=c.da.slice(-c.Oc,c.da.length));var d=c.da,e;a:{e=[];for(var f=0;f<c.hc.length;f++){var l=c.hc[f],j=l.Lb.toString().length-3;if(j===c.da.length&&l.Lb.test(c.da)&&(e.push({Lb:l,nb:j,Jb:l.Jb}),!l.Jb)){e=l;break a}}for(var y,f=c=0;f<e.length;f++)e[f].nb>c&&(y=e[f].Lb,c=e[f].nb);e=y}a.log("current pattern: "+d);
d=d.replace(/1/g,'<span class="i"></span>').replace(/0/g,'<span class="o"></span>');a.T.html(d);a.T.css("marginLeft",-((a.T.width()+15)/2));e?(a.log("matched",e),e.Jb||(a.T.addClass("success"),d=e.key,a.ra("matched-pattern",d),ra("goToMode",d))):(a.T.removeClass("success"),a.T.addClass("failure"));a.Ib&&(a.Ib=k,a.xc.fadeOut(300),a.T.fadeIn(300));a.bd=a.Za}n=J.prototype;n.p=function(){J.c.p.call(this);this.za(this.b,this.t,10);this.l("i.mp3");za(this,"1")};
n.m=function(){J.c.m.call(this);this.za(this.a,this.t,10);this.l("o.mp3");za(this,"0")};n.Y=function(){this.b&&this.b.remove();var a=new paper.Point(this.fa,this.ga),b=new paper.Size(this.q,this.J),a=new paper.Rectangle(a,b);this.b=new paper.Path.Rectangle(a);this.b.closed=g;this.b.vectors=[];for(a=0;a<this.b.segments.length;a++)b=this.b.segments[a].point.clone(),b=b.subtract(this.W),b.velocity=0,b.acceleration=5*Math.random()+10,b.bounce=0.1*Math.random()+1.05,this.b.vectors.push(b)};
n.jb=function(){var a=new paper.Gradient([["#4487fc",0],["#826eb1",1]]),b=this.b.position.clone();b.x-=this.q/2;var c=this.b.position.clone();c.x+=this.q/2;a=new paper.GradientColor(a,b,c);this.b.fillColor=a};
n.Z=function(){this.a&&this.a.remove();this.a=new paper.Path.RegularPolygon(this.A,6,this.g);this.a.smooth();this.a.vectors=[];for(var a=0;a<this.a.segments.length;a++){var b=this.a.segments[a].point.clone(),b=b.subtract(this.A);b.velocity=0;b.acceleration=5*Math.random()+10;b.bounce=0.1*Math.random()+1.05;this.a.vectors.push(b)}};
n.kb=function(){var a=new paper.Gradient([["#93689c",0],["#df4a40",1]]),b=this.a.position.clone();b.x-=this.g;var c=this.a.position.clone();c.x+=this.g;a=new paper.GradientColor(a,b,c);this.a.fillColor=a};n.n=function(){J.c.n.call(this);this.xc=this.find("#date");this.T=this.find("#pattern");this.Ob.reset();B(this);this.t=new paper.Point(this.Xa,this.xa);0<this.k.height&&(this.Y(),this.Z())};
n.w=function(){J.c.w.call(this);var a=this;ya(this);w(this,this.find("#menu"),"up",function(){$(a.I).addClass("nav-visible")});w(this,this.find("#modal"),"up",function(){$(a.I).removeClass("nav-visible")});w(this,this.find("#dropdown"),"up",function(a){a.preventDefault();a.stopPropagation()});w(this,$(this.k),"down",function(b){b.preventDefault();b.stopPropagation();a.t=new paper.Point(D(b).x,D(b).y);a.a.hitTest(a.t)&&a.hasFocus&&a.m();a.b.hitTest(a.t)&&a.hasFocus&&a.p()});var b=new paper.Point(0,
0);w(this,$(this.k),"move",function(c){c.preventDefault();c.stopPropagation();b={x:D(c).x,y:D(c).y};a.a.hitTest(b)||a.b.hitTest(b)?a.hasFocus&&(document.body.style.cursor="pointer"):document.body.style.cursor="default"})};n.z=function(){J.c.z.call(this);x(this,this.find("#menu"),"up");x(this,this.find("#modal"),"up");x(this,this.find("#dropdown"),"up");x(this,$(this.k),"down");x(this,$(this.k),"move")};n.F=function(a){J.c.F.call(this,k);va(this);this.Y();this.Z();a&&z(this)};
n.za=function(a,b,c){for(var d=0;d<a.vectors.length;d++){var e=a.vectors[d],f;a===this.a?(f=e.add(this.A),f=f.subtract(b),f=Math.max(0,this.g-f.length)):(f=e.add(this.W),f=f.subtract(b),f=Math.max(0,this.q-f.length));e.length+=Math.max(f,20);e.velocity+=c}};
n.Da=function(a){for(var b=0;b<a.segments.length;b++){var c=a.vectors[b],d=new paper.Point(this.fa,this.ga);c.velocity=a===this.a?((this.g-c.length)/c.acceleration+c.velocity)/c.bounce:((d.getDistance(this.W)-c.length)/c.acceleration+c.velocity)/c.bounce;c.length=Math.max(0,c.length+c.velocity)}};n.Ca=function(a){for(var b=0;b<a.segments.length;b++){var c=a.vectors[b].clone();a===this.a?(this.a.segments[b].point=c.add(this.A),this.a.smooth()):this.b.segments[b].point=c.add(this.W)}};
n.M=function(a){J.c.M.call(this,a);this.Ib||this.Za-this.bd>this.rd&&ya(this);this.b&&this.a&&(this.jb(),this.kb());0<a&&(this.b&&this.a)&&(this.Da(this.b),this.Ca(this.b),this.Da(this.a),this.Ca(this.a))};function K(a,b){q.call(this,a,b,"simone",g,g)}p(K);
K.prototype.n=function(){K.c.n.call(this);var a=this;TWEEN.removeAll();this.B=s("down","simone");this.s=s("up","simone");this.yd=Modernizr.touch?"Tap":"Click";this.ub=$("#red");this.vb=$("#green");this.eb=$("#blue");this.fb=$("#yellow");this.rc=[this.ub,this.vb,this.eb,this.fb];this.qc=$("#red, #green, #blue, #yellow").css("opacity",1);this.gc=$("#levels").removeClass().text("");this.Ma=$("#status").removeClass();this.Dd=$("#levels").css("opacity",0);this.Dc=$("#simone");this.message=$("#message").text(this.yd+
" to play.");this.Dc.bind(this.s,function(){a.message.hide();Aa(a);a.Dc.unbind(a.s)});this.lc=0;this.Ta=this.R=k;this.Ic=this.Fa=this.Aa=0;this.G=this.G||[];for(var b=0;4>b;b++)this.G.push(~~(4*Math.random()));this.log("generated sequence: "+this.G);this.total=this.G.length;this.H&&(b=this.la,this.source=b.createOscillator(),this.O=b.createAnalyser(),this.O.fftSize=512,this.O.smoothingTimeConstant=0.85,this.mb=b.createGainNode(),this.mb.gain.value=0.01,this.Pc=[{frequency:1806,detune:-3663,type:1},
{frequency:1806,detune:-4758,type:1},{frequency:229,detune:1053,type:1},{frequency:580,detune:-1137,type:2}])};K.prototype.w=function(){K.c.w.call(this);var a=this;a.ub.bind(this.B,function(){Ba(a,0)});a.ub.bind(this.s,function(){Ca(a,0)});a.vb.bind(this.B,function(){Ba(a,1)});a.vb.bind(this.s,function(){Ca(a,1)});a.eb.bind(this.B,function(){Ba(a,2)});a.eb.bind(this.s,function(){Ca(a,2)});a.fb.bind(this.B,function(){Ba(a,3)});a.fb.bind(this.s,function(){Ca(a,3)})};
K.prototype.z=function(){K.c.z.call(this);this.ub.unbind(this.B);this.vb.unbind(this.B);this.eb.unbind(this.B);this.fb.unbind(this.B);this.ub.unbind(this.s);this.vb.unbind(this.s);this.eb.unbind(this.s);this.fb.unbind(this.s)};
function Ba(a,b){if(a.R&&!a.Ta){0===a.Aa&&a.Ma.removeClass("your-turn");var c=a.Pc[b],d=a.rc[b];a.H&&(a.log("Playing note: ",c),a.source.type=c.type,a.source.frequency.value=c.frequency,a.source.detune.value=c.detune);c=new TWEEN.Tween({opacity:0.5});c.to({opacity:1},100);if(a.H)c.onStart(function(){a.source.connect(a.O);a.O.connect(a.mb);a.mb.connect(a.la.destination);a.source.noteOn(0)});c.onUpdate(function(){d.css("opacity",this.opacity)});C(a,c)}}
function Ca(a,b){a.log("Guess ("+b+"). Expecting ("+a.G[a.Aa]+")");if(a.R&&!a.Ta){var c=a.rc[b],d=a.H?200:400,e=new TWEEN.Tween({opacity:1});e.to({opacity:0.5},d);e.onUpdate(function(){c.css("opacity",this.opacity)});if(a.H)e.onComplete(function(){a.source.disconnect()});else e.delay(200);C(a,e);a.Ta=k;if(a.G[a.Aa]===b)if(a.Aa!==a.Fa)a.Aa++;else{a.Fa++;a.Ma.addClass("success");if(a.Fa===a.total){for(d=0;4>d;d++)a.G.push(~~(4*Math.random()));a.total+=4}a.Fa<a.total&&(a.Aa=0);Da(a)}else a.R=k,a.Ma.addClass("game-over"),
a.ra("failed",a.G.length),d=new TWEEN.Tween({opacity:0.5}),d.to({opacity:1},200),d.delay(500),d.onUpdate(function(){a.qc.css("opacity",this.opacity)}),d.onComplete(function(){a.Ma.removeClass();sa(a,function(){Aa(a)},g)}),C(a,d)}}
function Aa(a){if(!a.R){a.lc++;a.R=g;a.Ta=k;a.Aa=0;a.Ic=Math.max(a.Ic,a.Fa);a.Fa=0;for(var b=a.G.length,c,d;--b;)c=Math.random()*(b+1)|0,d=a.G[b],a.G[b]=a.G[c],a.G[c]=d;a.log("shuffled sequence: "+a.G);a.gc.removeClass().text("");a.Ma.removeClass();a.log("Playing sequence: "+a.G);a.Dd.animate({opacity:1},200);"0.5"!==a.qc.css("opacity")&&(b=new TWEEN.Tween({opacity:1}),b.to({opacity:0.5},200),b.delay(200),b.onUpdate(function(){a.qc.css("opacity",this.opacity)}),C(a,b));Da(a)}}
function Da(a){if(a.R){a.Ta=g;for(var b,c,d=500,e=a.Fa+1,f=0;f<e;f++)b=a.G[f],c=a.rc[b],d+=600,function(b,c,d,f){if(a.H)var M=a.Pc[d];d=new TWEEN.Tween({opacity:0.5});d.to({opacity:1},200);d.delay(c);d.onStart(function(){0===f&&a.Ma.removeClass("success");a.H&&(a.log(f+" now playing: ",M),a.source.type=M.type,a.source.frequency.value=M.frequency,a.source.detune.value=M.detune,a.source.connect(a.O),a.O.connect(a.mb),a.mb.connect(a.la.destination),a.source.noteOn(0))});d.onUpdate(function(){b[0].style.opacity=
this.opacity});var U=new TWEEN.Tween({opacity:1});U.to({opacity:0.5},200);U.delay(c+300);U.onUpdate(function(){b[0].style.opacity=this.opacity});U.onComplete(function(){f===e-1&&(a.Ta=k,a.gc.text(e),a.Ma.addClass("your-turn"));a.H&&a.source.disconnect();(1===a.lc||1<a.lc&&0===a.Aa)&&a.gc.addClass("started")});C(a,d);C(a,U)}(c,d,b,f)}};function L(a,b){A(this,"i.mp3");A(this,"o.mp3");q.call(this,a,b,"space",g,g,g);this.H&&(this.tc=new Tuna(this.la),this.Cb=new this.tc.Delay({Od:0,delayTime:0,Td:0,Nd:0,Md:20,Id:0}))}p(L);n=L.prototype;
n.l=function(a,b,c,d){if(this.H){b=this.Vb+"sounds/"+this.j+"/"+a;this.log('Playing sound "'+a+'"');a=this.la;b=ta(this,b);var e=a.createBufferSource(),f=a.createGainNode();f.gain.value=0.1;e.buffer=b;e.loop=d||k;e.connect(f);f.connect(this.Cb.input);this.Cb.connect(a.destination);e.noteOn(0);"function"===typeof c&&c(e)}};n.p=function(){this.Fb=g;10>this.K&&(this.K+=2);this.l("i.mp3")};n.m=function(){this.Mb=g;10>this.L&&(this.L+=2);this.l("o.mp3")};
n.Y=function(){if(this.b)N(this.C,this.$,this.aa,k),this.P.position={x:this.fa+this.q/2,y:this.ga+this.J/2},this.b.position={x:this.fa+this.q/2,y:this.ga+this.J/2},this.P.scale(this.q/this.b.bounds.width),this.b.scale(this.q/this.b.bounds.width);else{var a,b,c,d;this.C=[];var e=new paper.Point(this.fa,this.ga);c=new paper.Size(this.q,this.J);c=new paper.Rectangle(e,c);this.b=new paper.Path.Rectangle(c);this.b.fillColor=new paper.RgbColor(0,0,0,0);this.P=new paper.Group;for(var f=0;f<this.q/6;f++)this.C.push(new paper.Path),
a=e.x+6*f,b=e.y,c=new paper.Point(a,b),b=e.y+this.J,d=new paper.Point(a,b),b=new paper.Point(a,this.tb-this.J/4),a=new paper.Point(a,this.tb+this.J/4),this.C[f].add(c,b,a,d),this.P.addChild(this.C[f]);this.P.strokeColor="#11a860";this.P.strokeWidth=1;this.$=[];this.aa=[]}N(this.C,this.$,this.aa,g)};
n.Z=function(){if(this.a)N(this.D,this.Ja,this.ba,k),this.Wa.position={x:this.Xa,y:this.xa},this.a.position={x:this.Xa,y:this.xa},this.Wa.scale(2*this.g/this.a.bounds.height),this.a.scale(2*this.g/this.a.bounds.height);else{var a,b,c,d,e;this.D=[];this.a=new paper.Path.Circle(this.A,this.g);this.a.fillColor=new paper.RgbColor(0,0,0,0);this.Wa=new paper.Group;var f=90,l=2;640>this.d&&(f=45,l=4);for(var j=0;j<f;j++)this.D.push(new paper.Path),a=this.A.x+this.g*Math.cos(j*l*(Math.PI/180)),b=this.A.y+
this.g*Math.sin(j*l*(Math.PI/180)),c=new paper.Point(a,b),a=this.A.x+this.g*Math.cos(-j*l*(Math.PI/180)),b=this.A.y+this.g*Math.sin(-j*l*(Math.PI/180)),d=new paper.Point(a,b),e=d.getDistance(c),b=new paper.Point(a,this.xa+e/4),a=new paper.Point(a,this.xa-e/4),this.D[j].add(c,b,a,d),this.Wa.addChild(this.D[j]);this.Wa.strokeColor="#3777e2";this.Wa.strokeWidth=1;this.Wa.rotate(90);this.Ja=[];this.ba=[]}N(this.D,this.Ja,this.ba,g)};
n.n=function(){L.c.n.call(this);this.h=ua(this);this.h.viscosity=0;var a=2*this.d;640>this.d&&(a=this.d/2);for(var b=0;b<a;b++)this.Ba=aa(),this.h.particles.push(new Particle),this.h.particles[b].setRadius(1.4*Math.random()+0.1),this.h.particles[b].pos.x=this.Ba[0]*this.d,this.h.particles[b].pos.y=this.Ba[1]*this.e,this.h.particles[b].vel.x=0,this.h.particles[b].vel.y=0;B(this);this.Db=0;this.Ba=[];this.pc=this.d/2;this.tb=this.e/2;this.ob=this.pc;this.Ga=this.tb;this.Fb=k;this.Jc=g;this.ea=0;this.K=
1;this.Mb=k;this.Qc=g;this.ia=0;this.L=1;0<this.k.height&&(this.Y(),this.Z())};function Ea(a){if(!a.v||!a.v.length)a.v=$("#space-canvas");a.i=a.i||a.v[0];a.i.width=a.d;a.i.height=a.e}
n.wc=function(){L.c.wc.call(this);Ea(this);var a=this,b=new paper.Point(0,0),c=s("move",this.j);$(this.I).bind(c,function(c){c.preventDefault();c.stopPropagation();a.ob=D(c).x;a.Ga=D(c).y;b={x:a.ob,y:a.Ga};a.a.hitTest(b)||a.b.hitTest(b)?a.hasFocus&&(document.body.style.cursor="pointer"):document.body.style.cursor="default"});c=s("down",this.j);$(this.I).bind(c,function(b){b.preventDefault();b.stopPropagation();b=D(b);b=new paper.Point(b.x,b.y);a.Qd=b;a.a.hitTest(b)&&a.hasFocus&&a.m();a.b.hitTest(b)&&
a.hasFocus&&a.p()})};n.z=function(){L.c.z.call(this);var a=s("move",this.j);$(this.I).unbind(a+".space");a=s("down",this.j);$(this.I).unbind(a+".space")};n.F=function(){var a=this.d,b=this.e;L.c.F.call(this,k);a=Math.abs(a-this.d);b=Math.abs(b-this.e);Ea(this);this.pc=this.d/2;this.tb=this.e/2;va(this);if((50<a||50<b)&&this.h)for(b=0;b<this.h.particles.length;b++)this.Ba=aa(),this.h.particles[b].pos.x=this.Ba[0]*this.d,this.h.particles[b].pos.y=this.Ba[1]*this.e;this.Y();this.Z();z(this)};
function N(a,b,c,d){for(var e=0;e<a.length;e++){b[e]||(b[e]=[]);c[e]||(c[e]=[]);for(var f=0;f<a[e].segments.length;f++)d?(b[e][f]=a[e].segments[f].point.x,c[e][f]=a[e].segments[f].point.y):(a[e].segments[f].point.x=b[e][f],a[e].segments[f].point.y=c[e][f])}}function Fa(a,b,c,d,e,f){var l=100*a.Db,j=1E3*a.Db,y=1E4*a.Db;b<y&&c===g?b+=j:(1<d?b<y&&(b+=l):(c=k,b-=j),d=1<d?d-0.1:1);b<l&&(e=k,c=g,d=1);f===g?(a.ea=b,a.Jc=c,a.K=d,a.Fb=e):(a.ia=b,a.Qc=c,a.L=d,a.Mb=e)}
function O(a,b,c,d,e,f,l){var j=Math.max(a.d,a.e)/(Math.min(a.d,a.e)/2);return c?b+Math.cos(a.cc/10+(d-e))*f*l/j:b+Math.sin(a.cc/10+(d-e))*f*l/j}
n.qa=function(a){L.c.qa.call(this,a);for(a=0;a<this.h.particles.length;a++)this.h.particles[a].pos.x+=(this.pc-this.ob)/(5E3/this.h.particles[a].radius)+0.1,this.h.particles[a].pos.x>2*this.d?this.h.particles[a].pos.x=10*-this.h.particles[a].radius:this.h.particles[a].pos.x<2*-this.d&&(this.h.particles[a].pos.x=this.d+10*this.h.particles[a].radius),this.h.particles[a].pos.y+=(this.tb-this.Ga)/(5E3/this.h.particles[a].radius),this.h.particles[a].pos.y>2*this.e?this.h.particles[a].pos.y=10*-this.h.particles[a].radius:
this.h.particles[a].pos.y<2*-this.e&&(this.h.particles[a].pos.y=this.d+10*this.h.particles[a].radius)};
n.M=function(a){L.c.M.call(this,a);var b;if(this.i){var c=this.i.getContext("2d");c.fillStyle="#e4e4e4";c.clearRect(0,0,this.i.width+1,this.i.height+1);for(b=0;b<this.h.particles.length;b++)c.beginPath(),c.arc(this.h.particles[b].pos.x+0.5,this.h.particles[b].pos.y+0.5,this.h.particles[b].radius,0,2*Math.PI),c.closePath(),c.fill();this.Db=a/100;if(this.Fb===g){Fa(this,this.ea,this.Jc,this.K,this.Fb,g);this.H&&(this.Cb.feedback=this.K/10);for(b=0;b<this.C.length;b++)this.Ba=aa(),this.C[b].segments[0].point.x=
O(this,this.$[b][0],g,this.P.position.x,this.$[b][0],this.ea,this.K),this.C[b].segments[0].point.y=O(this,this.aa[b][0],k,this.P.position.y,this.aa[b][0],this.ea,this.K),this.C[b].segments[1].point.x=O(this,this.$[b][1],k,this.P.position.x,this.$[b][1],this.ea,this.K),this.C[b].segments[1].point.y=O(this,this.aa[b][1],g,this.P.position.y,this.aa[b][1],this.ea,this.K),this.C[b].segments[2].point.x=O(this,this.$[b][2],g,this.P.position.x,this.$[b][2],this.ea,this.K),this.C[b].segments[2].point.y=O(this,
this.aa[b][2],k,this.P.position.y,this.aa[b][2],this.ea,this.K),this.C[b].segments[3].point.x=O(this,this.$[b][3],k,this.P.position.x,this.$[b][3],this.ea,this.K),this.C[b].segments[3].point.y=O(this,this.aa[b][3],g,this.P.position.y,this.aa[b][3],this.ea,this.K),this.C[b].smooth()}else N(this.C,this.$,this.aa,k);if(this.Mb===g){Fa(this,this.ia,this.Qc,this.L,this.Mb,k);this.H&&(this.Cb.feedback=this.L/10);for(b=0;b<this.D.length;b++)this.Ba=aa(),this.D[b].segments[0].point.x=O(this,this.Ja[b][0],
g,0,0,this.ia,this.L),this.D[b].segments[0].point.y=O(this,this.ba[b][0],k,0,0,this.ia,this.L),this.D[b].segments[1].point.x=O(this,this.Ja[b][1],k,0,0,this.ia,this.L),this.D[b].segments[1].point.y=O(this,this.ba[b][1],g,this.ba[b][1],0.95*this.ba[b][1],this.ia,this.L),this.D[b].segments[2].point.x=O(this,this.Ja[b][2],g,0,0,this.ia,this.L),this.D[b].segments[2].point.y=O(this,this.ba[b][2],k,this.ba[b][2],0.95*this.ba[b][2],this.ia,this.L),this.D[b].segments[3].point.x=O(this,this.Ja[b][3],k,0,0,
this.ia,this.L),this.D[b].segments[3].point.y=O(this,this.ba[b][3],g,0,0,this.ia,this.L),this.D[b].smooth()}else N(this.D,this.Ja,this.ba,k)}};function P(a,b){q.call(this,a,b,"synth",g,g,k)}p(P);n=P.prototype;
n.n=function(){P.c.n.call(this);this.B=s("down","synth");this.s=s("up","synth");var a=this.la;this.source=a.createOscillator();this.gain=a.createGainNode();this.gain.gain.value=0.01;this.tc=new Tuna(a);this.O=a.createAnalyser();this.O.fftSize=512;this.O.smoothingTimeConstant=0.85;this.Tb=$("#waveforms");this.Pd=document.getElementById("oscillator-frequency");this.detune=document.getElementById("oscillator-detune");this.R=k;this.$b={};this.$b.delay=new this.tc.Delay;Ga(this);this.count=360*(this.d%
360);this.Kb=$("#synth-letter-i");this.ha=$("#synth-letter-o");this.$a=1;this.fc=80;this.Lc=650;this.md=0;this.od=this.nd=0.5;this.Fd=["sine","square","saw","triangle"];var b=this;setTimeout(function(){b.F(g)},800)};
n.M=function(a){P.c.M.call(this,a);if(this.R){this.count-=300*a;this.duration+=a;a=new Uint8Array(this.O.frequencyBinCount);this.O.getByteFrequencyData(a);for(var b,c,d=0,e=this.N.length;d<e;d++){for(var f=0,l=a.length/2;f<l;f++)b=this.hb-0.75*a[f],c=b===this.hb?0:5*d,this.N[d].segments[f].point.y=b+c;this.N[d].smooth()}}};
n.F=function(a){P.c.F.call(this,k);this.hb=500>this.e?this.e/2+(this.e-256)/2:this.e/2+128;this.scale=~~(0.5*this.e);this.Ed=~~(this.e/2);this.i&&(this.i.width=this.d,this.i.height=this.e);this.pb=this.ha.offset();this.Nb=this.ha[0].getBoundingClientRect().width;this.g=this.Nb/2;this.Ia=this.pb.left+this.g;this.qb=this.pb.top+this.g;this.na&&this.S&&(this.Jd=this.na.position.x,this.Kd=this.na.position.y,this.Bb=this.na.bounds.width/2,this.na.position.x=this.Ia,this.na.position.y=this.qb,this.na.scale(this.g/
this.Bb),this.ib.position.x=this.Ia,this.ib.position.y=this.qb,this.ib.scale(this.g/this.Bb),this.Bb=this.S.bounds.width/2,this.S.position.x=this.Ia,this.S.position.y=this.qb,this.S.scale(0.08*this.g/this.Bb));if(this.N){Math.max(2*this.g,128);for(var b=2*this.g/128,c=0,d=this.N.length;c<d;c++)for(var e=0,f=this.N[c].segments.length;e<f;e++)this.N[c].segments[e].point.x=b*e+this.Ia-this.g,this.N[c].segments[e].point.y=this.hb}a&&z(this);a=this.Kb[0].getBoundingClientRect();var b=this.Kb.position(),
l=~~a.height;this.Tb.css({top:~~b.top+"px",left:~~b.left+"px",height:l+"px",width:~~a.width+"px"});var j=this;setTimeout(function(){var a=j.Tb.find("li"),b=a.height();a.css("margin-top",~~((l-4*b)/4.5))},100)};
n.w=function(){P.c.w.call(this);var a=this;a.hb=500>a.e?a.e/2+(a.e-256)/2:a.e/2+128;a.scale=~~(0.5*a.e);a.Ed=~~(a.e/2);if(!a.path&&!a.Rd){B(a);Math.max(2*a.g,128);var b=2*a.g/128;a.na=new paper.Path.Circle(new paper.Point(a.Ia,a.qb),a.g);a.ib=a.na.clone();a.ib.fillColor="#3777e3";a.ib.opacity=0.9;a.S=new paper.Path.Circle(new paper.Point(a.Ia,a.qb),0.08*a.g);a.S.fillColor="#ffffff";a.S.strokeColor="#ffffff";a.S.strokeColor.alpha=0.3;a.S.strokeWidth=0.05*a.g;a.S.opacity=0.7;a.path=new paper.Path;a.path.strokeColor=
new paper.RgbColor(255,255,255,0.2);a.path.strokeWidth=5;for(var c=0;128>=c;c++){var d=new paper.Point(b*c+a.Ia-a.g,a.hb);a.path.add(d)}a.N=[];a.N.push(a.path);for(b=0;3>b;b++)c=a.path.clone(),a.N.push(c);a.ud=new paper.Group(a.na,a.N[0],a.N[1],a.N[2],a.N[3],a.S);a.ud.clipped=g;a.duration=0}a.R=k;Ha(a);a.Kb.bind(this.s,function(){a.$a++;a.$a=3<a.$a?0:a.$a;Ga(a);$(".on",a.Tb).removeClass("on");$("."+a.Fd[a.$a],a.Tb).addClass("on")});a.ha.bind(this.B,function(){a.Rc=g;a.fc=Ia(a,event.pageX,event.pageY)});
a.ha.bind(this.s,function(){Ja(a);Ka(a);a.Rc=k});b=s("move",this.j);a.ha.bind(b,function(){a.Rc&&(Ja(a),Ka(a))});a.pb=a.ha.offset();a.Nb=a.ha[0].getBoundingClientRect().width};n.z=function(){P.c.z.call(this);this.Kb.unbind(this.s);this.ha.unbind(this.B);this.ha.unbind(this.s);var a=s("move",this.j);this.ha.unbind(a);this.R=g;Ha(this)};function Ga(a){a.source.type=a.$a;a.source.frequency.value=a.fc;a.source.detune.value=a.Lc}
function Ha(a){if(a.R)a.source.disconnect(),a.R=k;else{var b=a.la;a.source.connect(a.$b.delay.input);a.$b.delay.connect(a.O);a.O.connect(a.gain);a.gain.connect(b.destination);a.source.noteOn(0);a.R=g}}function Ja(a){var b=event;Ia(a,b.pageX,b.pageY);Ga(a)}function Ka(a){var b=event;a.S.position.x=b.pageX;a.S.position.y=b.pageY}function Ia(a,b,c){b=(b-a.pb.left)/a.Nb;c=(c-a.pb.top)/a.Nb;a.fc=1E3-1E3*c;a.Lc=-4800+9600*b;a.md=60-60*c;a.od=c;a.nd=b};function Q(a,b){A(this,"rocket-launch.mp3");A(this,"rumble.mp3");A(this,"sci-fi-door.mp3");q.call(this,a,b,"rocket",g,g,k);var c=this.find(".letter-i"),d=this.find(".letter-o");this.zc=d.attr("cx")+", "+d.attr("cy");this.gb=c.attr("cx")+", "+c.attr("cy");this.nc=this.find(".letter-i-wrapper");this.ic=$("#moon-1");this.lb=$("[id*=fire-]").css("opacity",0);this.qd=this.lb.length;this.ua=0;this.Gb=this.ec=k}p(Q);
Q.prototype.p=function(){Q.c.p.call(this);if(!this.Gb)if(this.ua<this.qd){if(!this.Gb){var a=this;this.l("rumble.mp3");this.lb[this.ua].style.opacity=1;this.lb[this.ua+1].style.opacity=1;this.lb[this.ua+2].style.opacity=1;var b=~~Random(2,2*this.ua+2),c=new TWEEN.Tween({rotate:0});c.to({rotate:-b},100);c.onUpdate(function(){a.o.attr("transform","rotate("+this.rotate+", "+a.gb+")")});var d=new TWEEN.Tween({rotate:-b});d.to({rotate:b},200);d.delay(100);d.onUpdate(function(){a.o.attr("transform","rotate("+
this.rotate+", "+a.gb+")")});b=new TWEEN.Tween({rotate:b});b.to({rotate:0},100);b.delay(300);b.onUpdate(function(){a.o.attr("transform","rotate("+this.rotate+", "+a.gb+")")});b.onComplete(function(){a.ua+=3;a.Gb=k});this.Gb=g;C(this,c);C(this,d);C(this,b)}}else if(!this.ec){this.l("rocket-launch.mp3");var e=this,c=100,d=this.X[0].getBoundingClientRect(),b=this.o[0].getBoundingClientRect(),f=~~(d.left+d.width/2-b.height);prevTransform=transform="";(new TWEEN.Tween({translateY:0})).to({translateY:20},
400);d=new TWEEN.Tween({rotate:0});d.to({rotate:90},c);d.onUpdate(function(){e.o.attr("transform","rotate("+this.rotate+", "+e.gb+")")});b=new TWEEN.Tween({translateY:0,scale:1});b.to({translateY:f,scale:0.25},400);b.delay(c);b.onUpdate(function(){transform="scale("+this.scale+") translate(0, "+-1*this.translateY+")";e.nc.attr("transform",transform)});b.onComplete(function(){prevTransform=transform});c+=400;f=new TWEEN.Tween({rotate:0});f.to({rotate:-90},400);f.delay(c);f.onUpdate(function(){transform=
prevTransform+" rotate("+this.rotate+", "+e.gb+")";e.nc.attr("transform",transform)});f.onComplete(function(){e.lb.css("opacity",0);e.m()});var c=c+400,l=new TWEEN.Tween({opacity:0});l.to({opacity:1},200);l.delay(c+400+2E3);l.onStart(function(){e.nc.attr("transform","");e.o.attr("transform","")});l.onUpdate(function(){e.o.css("opacity",this.opacity)});l.onComplete(function(){e.ua=0;e.ec=k});this.ec=g;C(this,d);C(this,b);C(this,f);C(this,l)}};
Q.prototype.m=function(){Q.c.m.call(this);this.l("sci-fi-door.mp3");var a=this,b=this.ic[0].style[a.ca].split("rotate(")[1],b=parseInt(b)||0,c=new TWEEN.Tween({rotate:b});c.to({rotate:b+720},1E3);c.onUpdate(function(){a.ic.attr("transform","rotate("+this.rotate+", "+a.zc+")")});c.onComplete(function(){a.ic.attr("transform","rotate(0, "+a.zc+")")});C(a,c)};function R(a,b){A(this,"i.mp3");A(this,"o.mp3");q.call(this,a,b,"ascii",g,g,g)}p(R);n=R.prototype;n.p=function(){R.c.p.call(this);this.za(this.b,this.t,10);this.l("i.mp3")};n.m=function(){R.c.m.call(this);this.za(this.a,this.t,10);this.l("o.mp3")};
n.Y=function(){this.b&&this.b.remove();var a=new paper.Point(this.fa,this.ga),b=new paper.Size(this.q,this.J),a=new paper.Rectangle(a,b);this.b=new paper.Path.Rectangle(a);this.b.closed=g;this.b.vectors=[];for(a=0;a<this.b.segments.length;a++)b=this.b.segments[a].point.clone(),b=b.subtract(this.W),b.velocity=0,b.acceleration=5*Math.random()+10,b.bounce=0.1*Math.random()+1.05,this.b.vectors.push(b)};
n.jb=function(){var a=new paper.Gradient([["#000",0],["#eee",1]]),b=this.b.position.clone();b.x-=this.q/2;var c=this.b.position.clone();c.x+=this.q/2;a=new paper.GradientColor(a,b,c);this.b.fillColor=a};
n.Z=function(){this.a&&this.a.remove();this.a=new paper.Path.RegularPolygon(this.A,6,this.g);this.a.smooth();this.a.vectors=[];for(var a=0;a<this.a.segments.length;a++){var b=this.a.segments[a].point.clone(),b=b.subtract(this.A);b.velocity=0;b.acceleration=5*Math.random()+10;b.bounce=0.1*Math.random()+1.05;this.a.vectors.push(b)}};
n.kb=function(){var a=new paper.Gradient([["#000",0],["#eee",1]]),b=this.a.position.clone();b.x-=this.g;var c=this.a.position.clone();c.x+=this.g;a=new paper.GradientColor(a,b,c);this.a.fillColor=a};
function La(a){a.La?(a.Rb.x=a.Xc,a.Rb.y=a.Yc,a.Qb.x=a.Vc,a.Qb.y=a.Wc,a.La.segments[0].point=a.Rb,a.La.segments[1].point=a.Qb,a.La.strokeWidth=a.Zc):(a.Rb=new paper.Point(a.Xc,a.Yc),a.Qb=new paper.Point(a.Vc,a.Wc),a.La=new paper.Path,a.La.strokeWidth=a.Zc,a.La.strokeColor="#ebebeb",a.La.add(a.Rb,a.Qb))}n.n=function(){R.c.n.call(this);this.h=ua(this);B(this,g);this.t=new paper.Point(this.Xa,this.xa);0<this.k.height&&(La(this),this.Y(),this.Z())};
n.w=function(){R.c.w.call(this);this.v=$("#ascii-canvas");this.v.css({"z-index":3});this.i=this.v[0];this.i.width=this.d;this.i.height=this.e;var a=this,b=s("down",this.j);this.v.bind(b,function(b){b.preventDefault();b.stopPropagation();a.t=new paper.Point(D(b).x,D(b).y);a.t.getDistance(a.a.position)<a.g&&a.hasFocus&&a.m();Math.abs(a.t.x-a.b.position.x)<a.q/2&&Math.abs(a.t.y-a.b.position.y)<a.J/2&&a.hasFocus&&a.p()});b=s("move",this.j);this.v.bind(b,function(b){b.preventDefault();b.stopPropagation();
b=new paper.Point(D(b).x,D(b).y);b.getDistance(a.a.position)<a.g||Math.abs(b.x-a.b.position.x)<a.q/2&&Math.abs(b.y-a.b.position.y)<a.J/2?a.hasFocus&&(document.getElementById("ascii-canvas").style.cursor="pointer"):document.getElementById("ascii-canvas").style.cursor="default"})};n.z=function(){R.c.z.call(this);var a=s("down",this.j);this.v.unbind(a);a=s("move",this.j);this.v.unbind(a)};n.F=function(a){R.c.F.call(this,k);va(this);La(this);this.Y();this.Z();a&&z(this)};
n.za=function(a,b,c){for(var d=0;d<a.vectors.length;d++){var e=a.vectors[d],f;a===this.a?(f=e.add(this.A),f=f.subtract(b),f=Math.max(0,this.g-f.length)):(f=e.add(this.W),f=f.subtract(b),f=Math.max(0,this.q-f.length));e.length+=Math.max(4*f,100);e.velocity+=c;e.velocity=Math.min(5,e.velocity)}};
n.Da=function(a){for(var b=0;b<a.segments.length;b++){var c=a.vectors[b],d=new paper.Point(this.fa,this.ga);c.velocity=a===this.a?((this.g-c.length)/c.acceleration+c.velocity)/c.bounce:((d.getDistance(this.W)-c.length)/c.acceleration+c.velocity)/c.bounce;c.length=Math.max(0,c.length+c.velocity)}};n.Ca=function(a){for(var b=0;b<a.segments.length;b++){var c=a.vectors[b].clone();a===this.a?(this.a.segments[b].point=c.add(this.A),this.a.smooth()):this.b.segments[b].point=c.add(this.W)}};
n.qa=function(a){R.c.qa.call(this,a);this.b&&this.a&&(this.jb(),this.kb(),this.Da(this.b),this.Ca(this.b),this.Da(this.a),this.Ca(this.a))};
n.M=function(a){R.c.M.call(this,a);var b=this.k;a=document.getElementById("ascii-canvas");if(b.width&&!(1>b.width)&&b.height&&!(1>b.height)){var c=b.width,d=b.height,e=b.getContext("2d"),f=e.getImageData(0,0,c,d).data;e.clearRect(0,0,b.width+1,b.height+1);b="";for(e=0;e<d;e+=16){for(var l=0;l<c;l+=8){var j=4*(e*c+l),y=f[j],Ua=f[j+1],M=f[j+2],j=Ma[0===f[j+3]?0:Ma.length-1-Math.round((0.3*y+0.59*Ua+0.11*M)/255*(Ma.length-1))];" "==j&&(j="&nbsp;");b+=j}b+="\n"}a.innerHTML=b}};var Ma=" .[]{}@!=-$%^&();:',golei2013".split("");var Na=2*Math.PI;function S(a,b){A(this,"1.mp3");A(this,"2.mp3");q.call(this,a,b,"pong",g,g,g);this.Ad=this.ma=250;this.pd=800;this.zd=this.Ea=30;this.sd=10;this.Sc=40;this.Ka=80;this.kc=40;this.ja=160;this.Pb=g;this.bottomWallOpacity_=this.rightWallOpacity_=this.topWallOpacity_=0}p(S);n=S.prototype;
n.n=function(){S.c.n.call(this);var a=ua(this);a.viscosity=0;this.f=this.f||new Particle;a.particles.push(this.f);this.Uc=this.d/2;this.xd=this.e/2;this.ob=this.Uc;this.Ga=this.xd;this.Ka=this.Ga-this.ja/2;Oa(this)};function Oa(a){a.topWallOpacity_=0;a.rightWallOpacity_=0;a.bottomWallOpacity_=0;a.Ea=a.zd;a.ma=a.Ad;a.Bd=a.Uc-a.d/4;a.f.setRadius(a.Ea);a.f.pos.x=a.Bd;a.f.pos.y=a.Ea;a.f.vel.x=a.ma;a.f.vel.y=a.ma;Pa(a,0)}
n.F=function(a){S.c.F.call(this,k);this.i&&(this.i.width=this.d,this.i.height=this.e);a&&z(this)};
n.w=function(){S.c.w.call(this);this.Oa=document.getElementById("bonus");this.Ub=$("#score");this.v=$("#pong-canvas");this.i=this.v[0];this.i.width=this.d;this.i.height=this.e;this.r=this.i.getContext("2d");var a=this,b=s("move",this.j);this.v.bind(b,function(b){b.preventDefault();b.stopPropagation();a.ob=D(b).x;a.Ga=D(b).y});this.dc=this.dc||0;this.dc++;Pa(this,0);this.Oa.style.opacity=0;this.Oa.style[this.ca]="translateX(50px)";this.Pb=k};n.z=function(){S.c.z.call(this);var a=s("move",this.j);this.v.unbind(a)};
function Qa(a,b){a.l("1.mp3");var c=b+"Opacity_",d={};d[c]=a[c];var e={};e[c]=1;d=new TWEEN.Tween(d);d.to(e,200);d.onUpdate(function(){a[c]=this[c]});C(a,d)}function Pa(a,b){a.oc=b;a.Ub&&a.Ub.length&&a.Ub.text(a.oc)}
n.qa=function(a){if(!this.Pb){S.c.qa.call(this,a);var b=this.Ka,c=this.Ga;c<this.ja/2?c=this.ja/2:c>this.e-this.ja/2&&(c=this.e-this.ja/2);this.Ka=b+0.7*(c-b)*10*a;0<this.f.vel.x&&(this.Ea>=this.sd&&(this.Ea*=0.9995,this.f.setRadius(this.Ea)),this.ma<=this.pd&&(this.ma*=1.001,this.f.vel.x=this.ma,this.f.vel.y=0>this.f.vel.y?-this.ma:this.ma));if(this.f.pos.x<=this.f.radius){var d=this;d.log("You Lose");d.ra("lost",d.oc);d.ra("game number",d.dc);d.Pb=g;sa(d,function(){Oa(d);d.Pb=k})}else if(0<this.f.vel.x&&
this.f.pos.x>=this.d-this.f.radius&&(this.f.vel.x*=-1,Qa(this,"rightWall")),0<this.f.vel.y&&this.f.pos.y>=this.e-this.f.radius&&(this.f.vel.y*=-1,Qa(this,"bottomWall")),0>this.f.vel.y&&this.f.pos.y<=this.f.radius&&(this.f.vel.y*=-1,Qa(this,"topWall")),a=this.Ka-this.ja/2,b=this.Ka+this.ja/2,0>this.f.vel.x&&this.f.pos.x<=this.Sc+this.kc/2+this.f.radius&&this.f.pos.y>=a&&this.f.pos.y<=b){this.f.vel.x*=-1;a=this.f.vel.mag();this.Ha?this.Ha.copy(this.f.vel):this.Ha=this.f.vel.clone();this.Ha.norm();this.Xb=
this.Xb||new Vector;this.Xb.set(0,(this.f.pos.y-this.Ka)/(this.ja/2));this.Ha.add(this.Xb);this.Ha.norm();this.Ha.scale(a);this.f.vel.copy(this.Ha);var e=this;e.l("2.mp3");a=e.oc+1;0<e.topWallOpacity_&&(0<e.rightWallOpacity_&&0<e.bottomWallOpacity_)&&(a+=10,b=new TWEEN.Tween({opacity:0,translateX:50}),b.to({opacity:1,translateX:0},200),b.onUpdate(function(){e.Oa.style.opacity=this.opacity;e.Oa.style[e.ca]="translateX("+this.translateX+"px)"}),c=new TWEEN.Tween({opacity:1,translateX:0}),c.to({opacity:0,
translateX:50},200),c.delay(700),c.onUpdate(function(){e.Oa.style.opacity=this.opacity;e.Oa.style[e.ca]="translateX("+this.translateX+"px)"}),C(e,b),C(e,c));Pa(e,a);a=new TWEEN.Tween({topWallOpacity:e.topWallOpacity_,rightWallOpacity:e.rightWallOpacity_,bottomWallOpacity:e.bottomWallOpacity_});a.to({topWallOpacity:0,rightWallOpacity:0,bottomWallOpacity:0},200);a.onUpdate(function(){e.topWallOpacity_=this.topWallOpacity;e.rightWallOpacity_=this.rightWallOpacity;e.bottomWallOpacity_=this.bottomWallOpacity});
C(e,a)}}};
n.M=function(a){S.c.M.call(this,a);this.i&&(this.r.clearRect(0,0,this.i.width+1,this.i.height+1),this.r.fillStyle="#e0493e",this.r.beginPath(),this.r.arc(this.f.pos.x,this.f.pos.y,this.f.radius,0,Na),this.r.fill(),this.r.fillStyle="#d0d0d0",this.r.fillRect(this.Sc-this.kc/2,this.Ka-this.ja/2,this.kc,this.ja),this.r.fillStyle="#f3cdca",0<this.topWallOpacity_&&(this.r.save(),this.r.globalAlpha=this.topWallOpacity_,this.r.fillRect(0,0,this.d,10),this.r.restore()),0<this.bottomWallOpacity_&&(this.r.save(),
this.r.globalAlpha=this.bottomWallOpacity_,this.r.fillRect(0,this.e-10,this.d,10),this.r.restore()),0<this.rightWallOpacity_&&(this.r.save(),this.r.globalAlpha=this.rightWallOpacity_,this.r.fillRect(this.d-10,0,10,this.e),this.r.restore()))};function T(a,b){A(this,"strike.mp3");A(this,"whoosh-1.mp3");q.call(this,a,b,"bowling",g,g,k)}p(T);T.prototype.n=function(){T.c.n.call(this);this.xb=this.find(".letter-o-wrapper");this.Ac=this.X.attr("cx");this.Bc=this.X.attr("cy");this.yc=[this.Ac,this.Bc];this.ka=[this.o.attr("cx"),this.o.attr("cy")];this.Hb=k};
T.prototype.p=function(){T.c.p.call(this);if(!this.Hb){var a=this,b=new TWEEN.Tween({rotate:0});b.to({rotate:-5},100);b.onUpdate(function(){a.o.attr("transform","rotate("+this.rotate+", "+a.ka[0]+", "+a.ka[1]+")")});var c=new TWEEN.Tween({rotate:-5});c.to({rotate:5},200);c.onStart(function(){a.l("whoosh-1.mp3")});c.delay(100);c.onUpdate(function(){a.o.attr("transform","rotate("+this.rotate+", "+a.ka[0]+", "+a.ka[1]+")")});var d=new TWEEN.Tween({rotate:5});d.to({rotate:0},100);d.delay(300);d.onUpdate(function(){a.o.attr("transform",
"rotate("+this.rotate+", "+a.ka[0]+", "+a.ka[1]+")")});C(this,b);C(this,c);C(this,d)}};
T.prototype.m=function(){T.c.m.call(this);this.l("strike.mp3");if(!this.Hb){this.Hb=g;var a=this,b=~~Random(360,380),c=this.xb[0].getBoundingClientRect(),d=this.o[0].getBoundingClientRect(),e=c.width/3+c.left-d.right,c=new TWEEN.Tween({rotate:0});c.to({rotate:1800},1500);c.onUpdate(function(){a.X.attr("transform","rotate("+this.rotate%360+", "+a.Ac+", "+a.Bc+")")});d=new TWEEN.Tween({translateX:0});d.to({translateX:e},600);d.delay(1E3);d.easing(TWEEN.Easing.Exponential.In);d.onUpdate(function(){a.xb.attr("transform",
"translate("+-this.translateX+", 0)")});e=new TWEEN.Tween({rotate:0,scale:1,posX:0});e.to({rotate:b,scale:0.5,posX:-20},300);e.delay(1500);e.onUpdate(function(){a.o.attr("transform","scale("+this.scale+") rotate("+this.rotate+", "+a.ka[0]+", "+a.ka[1]+") translate("+this.posX+", 0)")});b=new TWEEN.Tween({opacity:0});b.to({opacity:1},500);b.delay(3E3);b.onStart(function(){a.xb.attr("transform","translate(0, 0)");a.X.attr("transform","rotate(0, "+a.yc[0]+", "+a.yc[1]+")");a.o.attr("transform","scale(1) rotate(0, "+
a.ka[0]+", "+a.ka[1]+") translate(0, 0)")});b.onUpdate(function(){a.X[0].style.opacity=this.opacity;a.o[0].style.opacity=this.opacity;a.xb[0].style.opacity=this.opacity});b.onComplete(function(){a.Hb=k});C(this,c);C(this,d);C(this,e);C(this,b)}};var v={};function V(a,b,c,d){v[a]={Va:b,pattern:c,nb:d}}V("home",J,h);V("cat",F,231,8);V("space",L,42,8);V("pong",S,129,8);V("bacon",G,144,8);V("simone",K,211,8);V("eightbit",E,83,8);fa()&&(V("song",H,219,8),V("synth",P,136,8));V("ascii",R,127,8);V("bowling",T,117,8);V("rocket",Q,69,8);V("burger",I,57,8);
r&&$(function(){var a=window.location.href.split("/"),b=a[a.length-1].replace("_test.html",".html").replace(/\.html(.*)/,"");if((a=v[b])&&a.Va){var c=$(window).width(),d=$(window).height();1>d&&(d=c);b=$("<div></div>").addClass("mode").addClass(b+"-mode");b.css({width:c,height:d});$("body > *").wrapAll(b);window.currentMode=new a.Va($(".mode")[0],r?"../../":"../");$(window).resize(ea(function(){$(".mode").css({width:$(window).width(),height:$(window).height()});window.currentMode.F(g)}))}});function W(){if(!Modernizr.svg||!Modernizr.csstransforms||!Modernizr.canvas){$(document.body).addClass("unsupported");var a=s("up","app"),b=$("#menu-fallback"),c=$("#modal-fallback"),d=$("#dropdown-fallback");b.bind(a,function(){$("#unsupported").addClass("nav-visible")});c.bind(a,function(){$("#unsupported").removeClass("nav-visible")});d.bind(a,function(a){a.preventDefault();a.stopPropagation()})}else{this.sc=Modernizr.prefixed("transform");this.sa=$(window);this.e=this.d=0;var e=this;this.sa.resize(ea(function(){Ra(e)}));
Ra(this);Modernizr.touch&&(document.body.style[Modernizr.prefixed("userSelect")]="none",document.body.style[Modernizr.prefixed("userDrag")]="none",document.body.style[Modernizr.prefixed("tapHighlightColor")]="rgba(0,0,0,0)",a=s("move","app"),this.sa.bind(a,function(a){a.preventDefault();a.stopPropagation()}),a=s("up","app"),this.sa.bind(a,function(a){a.preventDefault();a.stopPropagation()}),a=s("down","app"),this.sa.bind(a,function(a){a.preventDefault();a.stopPropagation()}),this.sa.bind("dblclick.app",
function(a){a.preventDefault();a.stopPropagation()}));e.jc=m();Sa(e,"home",k)}}
function Ra(a){a.d=a.sa.width();a.e=a.sa.height();$("#wrapper, #unsupported").css({width:a.d,height:a.e});a.gd=Math.floor(a.d/2);a.hd=Math.floor(a.e/2);a.bc=395;a.ac=299;$(".logo-io-fallback").hasClass("mobile-logo")&&$(".logo-io-fallback").removeClass("mobile-logo");if(495>a.d||399>a.e)a.bc=262,a.ac=199,$(".logo-io-fallback").addClass("mobile-logo");a.jd=a.gd-a.bc/2;a.kd=a.hd-a.ac/2;$(".bounds-fallback").css({left:a.jd,top:a.kd,width:a.bc+"px",height:a.ac+"px"});if(a.wa)for(var b in a.wa)if(a.wa.hasOwnProperty(b)){var c=
a.wa[b];c.V&&(c.V.style.width=a.d+"px",c.V.style.height=a.e+"px");c.Sa&&c.Sa.F(g)}}W.prototype.postMessage=function(a){a.name.match(/.ready/)?this.jc(a):"goToMode"===a.name?Sa(this,a.data,g):"goToHome"===a.name&&Sa(this,"home",g,g)};
function Sa(a,b,c,d){a.wa=a.wa||{};a.wa[b]=a.wa[b]||{name:b};var e=a.wa[b],f,l=a.Fc;if(!(l&&l.name==e.name))if(l&&(l.Sa.postMessage({name:"unfocus",data:h}),l.V.style.mc="none"),f=c?function(){e.Sa.postMessage({name:"focus",data:h});var b=d?-a.d:a.d;e.V.style[a.sc]=Ta(b);e.V.style.visibility="visible";setTimeout(function(){var c=new TWEEN.Tween({translateX:b});c.to({translateX:0},800);c.easing(TWEEN.Easing.Exponential.InOut);c.onUpdate(function(){e.V.style[a.sc]=Ta(this.translateX)});c.onComplete(function(){e.V.style.mc=
"auto"});c.start();if(l){var c=-b,d=new TWEEN.Tween({translateX:0});d.easing(TWEEN.Easing.Exponential.InOut);d.to({translateX:c},800);d.onUpdate(function(){l.V.style[a.sc]=Ta(this.translateX)});d.onComplete(function(){l.V.style.visibility="hidden"});d.start()}u.app=[a,a.wd];oa()},10)}:function(){e.Sa.postMessage({name:"focus",data:h});e.V.style.visibility="visible";e.V.style.mc="auto"},e.Sa)a.Fc=e,"function"===typeof f&&f();else{a.jc=function(a){a.name===e.name+".ready"&&"function"===typeof f&&f();
this.jc=m()};var j=document.createElement("div");j.className="mode "+e.name+"-mode";j.style.visibility="hidden";j.style.mc="none";j.style.width=a.d+"px";j.style.height=a.e+"px";b="modes/"+e.name+".html?"+ +new Date;r&&(b="../../"+b);$.ajax({url:b,type:"GET",dataType:"html",complete:function(b,c,d){d=b.responseText;if(b.isResolved()){b.done(function(a){d=a});b=d.split("<body>")[1];b=b.split("</body>")[0];$(j).html(b).appendTo($("#wrapper"));if((b=v[e.name])&&b.Va)e.Sa=new b.Va(j,r?"../../":"");a.Fc=
e;e.V=j}}})}}W.prototype.ra=function(a,b){da("app",a,b)};function Ta(a){return Modernizr.Ld?"translate3d("+a+"px, 0, 0)":"translate("+a+"px, 0)"}W.prototype.wd=function(){TWEEN.update()||(delete u.app,oa())};window.ww=window.ww||{};window.ww.app=window.ww.app||{};window.ww.app.Core=W;var X=["ww","app","Core"],Y=this;!(X[0]in Y)&&Y.execScript&&Y.execScript("var "+X[0]);for(var Z;X.length&&(Z=X.shift());){var Va;if(Va=!X.length)Va=void 0!==W;Va?Y[Z]=W:Y=Y[Z]?Y[Z]:Y[Z]={}};
